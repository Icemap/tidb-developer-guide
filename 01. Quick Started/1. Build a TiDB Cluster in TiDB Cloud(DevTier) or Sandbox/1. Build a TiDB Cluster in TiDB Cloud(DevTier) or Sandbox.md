# Build a TiDB Cluster in TiDB Cloud(DevTier) or Sandbox

本页将指导您以最快的方式开始使用 TiDB 。您将使用 TiDB Cloud ，创建并启动一个免费的 TiDB 集群，使用 TiDB SQL 客户端，插入数据。随后将从示例程序读取出数据。

若您需要在本地计算机上启动 TiDB，请参阅 [本地启动 TiDB](https://docs.pingcap.com/zh/tidb/stable/quick-start-with-tidb)

## 步骤1. 创建免费集群

1. 如果你还未拥有 TiDB Cloud 账号，请先在此[注册](https://tidbcloud.com/signup)
2. 使用您的 TiDB Cloud 账号[登录](https://tidbcloud.com/)
3. 在[方案](https://tidbcloud.com/console/plans)内选择一年内免费的 Developer Tier 方案，或直接点击[这里](https://tidbcloud.com/console/create-cluster?tier=dev)，进入 `Create a Cluster (Dev Tier)` 页面
4. 请在 `Create a Cluster (Dev Tier)` 页面填写集群名称/密码/云服务商(暂时仅可选择AWS)/可用区(建议就近选择)后，点击 `Create` 按钮创建集群。
5. 稍作等待，在5-15分钟后，将创建完毕，可在 [Active Clusters](https://tidbcloud.com/console/clusters) 查看创建进度
6. 创建完毕后，在 [Active Clusters](https://tidbcloud.com/console/clusters) 页面，点击集群名称，进入该集群控制面板

![进入集群控制面板的位置提示图](../../images/1.%20Build%20a%20TiDB%20Cluster%20in%20TiDB%20Cloud(DevTier)%20or%20Sandbox/IMG_20220316-132106658.png)  

7. 点击 `Connect`，创建流量过滤器（允许连接的客户端IP列表）

![Connect配置弹出框触发的位置提示图](../../images/1.%20Build%20a%20TiDB%20Cluster%20in%20TiDB%20Cloud(DevTier)%20or%20Sandbox/IMG_20220316-132634154.png)  

8. 在弹出框内点击 `Add Your Current IP Address`, 此项将由 TiDB Cloud 解析你当前的网络IP填入。点击 `Create Filter` ，进行流量过滤器的创建

9. 复制弹出框 `Step 2: Connect with a SQL client` 中的连接字符串，供后续步骤使用

![连接字符串位置提示图](../../images/1.%20Build%20a%20TiDB%20Cluster%20in%20TiDB%20Cloud(DevTier)%20or%20Sandbox/IMG_20220316-134226292.png)  

## 步骤2. 连接到集群

1. 若未安装 MySQL 客户端，请选择自己的操作系统，按以下步骤安装

|`Mac`|Linux|Windows|
|:-:|:-:|:-:|

如果你没有 homebrew，请移步[官网](https://brew.sh/index_zh-cn)进行安装
```
brew install mysql-client
```

在安装完成的命令行输出中，得到以下信息：

```bash
mysql-client is keg-only, which means it was not symlinked into /opt/homebrew,
because it conflicts with mysql (which contains client libraries).

If you need to have mysql-client first in your PATH, run:
  echo 'export PATH="/opt/homebrew/opt/mysql-client/bin:$PATH"' >> ~/.zshrc

For compilers to find mysql-client you may need to set:
  export LDFLAGS="-L/opt/homebrew/opt/mysql-client/lib"
  export CPPFLAGS="-I/opt/homebrew/opt/mysql-client/include"
```

请运行其中的此行（命令行输出若与此处文档不一致，请以命令行输出为准）：

```bash
echo 'export PATH="/opt/homebrew/opt/mysql-client/bin:$PATH"' >> ~/.zshrc
```

完成后，生效该配置文件(例如 `~/.zshrc`)，并验证 MySQL 客户端是否安装成功：

```bash
source ~/.zshrc
mysql --version
```

预期会得到形如以下的输出：

```bash
mysql  Ver 8.0.28 for macos12.0 on arm64 (Homebrew)
```


|Mac|`Linux`|Windows|
|:-:|:-:|:-:|

以 CentOS7 为例：

```
yum install mysql
```


完成后，请验证 MySQL 客户端是否安装成功：

```bash
mysql --version
```

预期会得到形如以下的输出：

```bash
mysql  Ver 15.1 Distrib 5.5.68-MariaDB, for Linux (x86_64) using readline 5.1
```

|Mac|Linux|`Windows`|
|:-:|:-:|:-:|

``TODO: 此处没有 Windows 机器，且为UI界面安装，需要帮助``

2. 运行步骤1中得到的连接字符串

```
mysql --connect-timeout 15 -u root -h <host> -P 4000 -p
```

3. 填写密码，完成登录

## 步骤3. 插入数据

``TODO: 设计一个Demo程序``

## 步骤4. 运行示例应用程序

``TODO: 设计和步骤3配合的Demo程序，步骤3插入，步骤四用各语言实现读取``